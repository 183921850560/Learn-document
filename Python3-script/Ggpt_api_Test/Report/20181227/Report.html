       
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>InterfaceTesting</title>
<style type="text/css">
            div#global{
                width: 100%;
                height: 800px;
                background-color: silver; 
            }
            #heading{
                border:1px solid #000;
                width: 100%;
                height: 120px;
            }
            #content_menu{
                border:1px solid #000;
                width: 30%;
                height: 700px;
                border-right: 0px;
                border-top: 0px;
                border-bottom: 0px;
                float: left;
            }
            #content_body{
                border:1px solid #000;
                width: 69%;
                height: 700px;
                border-left: 0px;
                border-top: 0px;
                border-bottom: 0px;
                float: right;
            }
            #floor{
                border:1px solid #000;
                clear: both;
            }
            table{font-size:13px;}
            input#intest{
                font-weight:bold;
            } 
        </style>
    <script language="javascript" type="text/javascript">
        var row_array = new Array() 
        var btn_array = new Array()
        function removeByValue(arr, val){
            for(var i=0; i<arr.length;i++){
                if(arr[i] == val){
                    arr.splice(i,1);
                    break;
                }
            }
        }
        function setDetailMsgRow(rowID, btn) {  
            for (n in rowID){
                var row = document.getElementById(rowID[n]);  
                if (row != null) {  
                    if (row.style.display == (document.all ? "block" : "table-row")) {  
                        row.style.display = "none";  
                        btn.style.color='black';
                        removeByValue(row_array, rowID[n])
                        removeByValue(btn_array, btn)
                    }  
                    else {  
                        row.style.display = (document.all ? "block" : "table-row");
                        btn.style.color='orange';  
                        row_array.push(rowID[n])
                        btn_array.push(btn)
                    }  
                }
            } 
            if (btn != null){
                if (btn.value != "Show Detail"){
                    btn.value = "Show Detail"
                }else{
                    btn.value = "Hide"
                }
            }  
        }
        function showRow(a, btn) { 
            var arr = new Array()
            var row_arr = new Array()
            for (i=0;i<a[1];i++ ){
                arr[i] = ("if"+a[0]+"-") + (i+1)
                row_arr[i] = ("row"+a[0]+"-") + (i+1)
                }
            for (rowID in arr){
                var row = document.getElementById(arr[rowID]);  
                if (row != null) {  
                    if (row.style.display == (document.all ? "block" : "table-row")) {  
                        row.style.display = "none";  
                        btn.style.color='black';
                        if (row_array.length > 0){
                            for (j in row_array){
                                if(row_array[j] == row_arr[rowID]){
                                    var row_case = document.getElementById(row_array[j])
                                    row_case.style.display="none"
                                    var param_row = document.getElementById(row_array[j]+'-'+1)
                                    param_row.style.display="none"
                                    btn_array[j].style.color = "black"
                                    btn_array[j].value = "Show Detail"
                                    btn_array.splice(j,1)
                                    row_array.splice(j,1)
                                }
                            }                            
                        }
                    }  
                    else {  
                        row.style.display = (document.all ? "block" : "table-row");
                        btn.style.color='brown';  
                    }  
                } 
            
            }
            if (btn != null){
                if (btn.value != "查看详情"){
                    btn.value = "查看详情"
                }else{
                    btn.value = "收起"
                }
            } 
        } 
function FillRect(cxt, x1, y1, width, height, color) {
    cxt.fillStyle = color;
    cxt.fillRect(x1, y1, width, height);
}
function drawBar(pass, fail, error){
 
    var color = ["#6c6","orchid","#c00"]; 
    var data = [pass,fail,error];
    var count = pass + fail + error;
    var h =[10+(1 - pass/count)*148,10+(1 - fail/count)*148,10+(1 - error/count)*148];
    var x = [30,90,150];
    var y = [70,130,190];
    var canvas = document.getElementById("bar"); 
    var ctx = canvas.getContext("2d");
    DrawString(ctx, 'Count(c)', '', '', '', '', 15, 10)
    DrawLine(ctx,5,15,10,10,'black');
    DrawLine(ctx,15,15,10,10,'black');
    DrawLine(ctx,10,10,10,158,'black');
    DrawLine(ctx,10,158,215,158,'black');
    DrawLine(ctx,210,153,215,158,'black');
    DrawLine(ctx,210,163,215,158,'black');
    DrawString(ctx, 'Type(c)', '', '', '', '', 180, 160)
    for(var i=0;i<3;i++) {
        DrawLine(ctx,x[i],h[i],x[i],158,color[i]);
        DrawLine(ctx,x[i],h[i],y[i],h[i],color[i]);
        DrawLine(ctx,y[i],h[i],y[i],158,color[i]);
        DrawLine(ctx,(y[i]+x[i])/2,153,(y[i]+x[i])/2,158,color[i]);
        DrawString(ctx, data[i], '', color[i], '', '', (y[i]+x[i])/2, h[i]-15);
        FillRect(ctx, x[i], h[i], 40, 158-h[i], color[i]);
    }
}
 
function DrawLine(cxt, x1, y1, x2, y2, color) {
 
    cxt.strokeStyle = color;
    cxt.beginPath();
    cxt.moveTo(x1, y1);
    cxt.lineTo(x2, y2);
    cxt.stroke();
}
 
function DrawString(cxt, text, font, color, align, v_align, x, y) {
    if (font == "") {
        cxt.font = "10px";
    }
    else {
        cxt.font = font;
    }
    if (color == "") {
        cxt.fillStyle = "#000000";
    }
    else {
        cxt.fillStyle = color;
    }
    if (align == "") {
        cxt.textAlign = "left";
    }
    else {
        cxt.textAlign = align;
    }
    if (v_align == "") {
        cxt.textBaseline = "top";
    }
    else {
        cxt.textBaseline = v_align;
    }
    cxt.fillText(text, x, y);
}
 

    </script> 
</head>

<body>
    <div id="heading" style="background:#DBDBDB">
    <p style="font-family:verdana;color:black;font-size:18"><B>Project:  "AdPlatform"  Interface Test Report</B></p>
        <p style="font-family:verdana;color:black;font-size:13px;">       
        测试套件总数：1，用例总数：1，成功：0，失败：1， 错误：0。</p>
        <p style="font-family:verdana;color:black;font-size:13px;">       
        执行时间：2018-12-27 17:35:42， 运行时长：0.443359 s </p>
    </div>
    <div id="left-body" style="overflow:auto;">
        <table  width="100%" border="1" cellpadding="0" cellspacing="0" style="table-layout:fixed" bgcolor="#FAFAFA">
            <tr align="center" >
                <td width="25%" align="left" style="font-family:verdana;color:blue;font-size:14"><B>Test Case</B></td> 
                <td width="7%" style="font-family:verdana;color:blue;font-size:16"><B>Time</B></td> 
                <td width="7%" style="font-family:verdana;color:blue;font-size:16"><B>Result</B></td> 
                <td width="44%" style="font-family:verdana;color:blue;font-size:16"><B>Result Message</B></td> 
                <td width="15%" style="font-family:verdana;color:blue;font-size:16"><B>Detail</B></td> 
            </tr>
            
        <tr align="center" style=background-color:white>
        <th  align="left" colspan="1" style="font-size: 15">
        测试套件名称：app.saveCustomerInfo 
        </th>
         <th colspan="1" style="font-size: 15">0.443359</th> 
        <th  align="left" colspan="2" style="font-size: 15">
            用例共计：1,  通过：0, 失败：1, 错误：0
        </th>
        <th align="center" colspan="1">
         <input id="intest" value="查看详情" type='button' style='color:black' onclick="showRow([1,1],this)">
        </th>
        </tr>
        
<tr id="if1-1" align="center" style="background-color:seashell;display:none;word-break:break-all">
    <th align="left">__参数正确, 保存新增用户信息</th>
    <th>0.4433591</th>
    <th style='color:orchid' >Failed</th>
    <th align="left"> status_code: equals  200 ; app.code:  900500 不等于 0 ;</th>
    <th><input id="intest" value="Show Detail" type='button' style='color:black' onclick="setDetailMsgRow(['row1-1', 'row1-1-1'],this)"></th>
</tr>
        <tr id="row1-1-1" style="display:none;color:orchid;word-break:break-all" >
        <th align="left" colspan='1' style="font-size:14">
        Params 
        </th>
        <th align="left" colspan='4' >
        {'method': 'post', 'json': {'advertiserType': 2, 'bankAccount': '3323244224423442242', 'bankName': 'zhonghang', 'cityCode': 330010, 'companyName': '测试name', 'companyType': 1, 'contactPhone': '13312341234', 'contacter': '测试人员', 'customerGuid': '10000020', 'email': 'qwqqw@as.com', 'industryCodes': ['HZ_21'], 'licenceNo': '78539204', 'logoUrl': 'http://12.12.214.43:21/123213121efs.jpg', 'provinceCode': 3300000, 'urlIdCard1': 'http://12.12.214.43:21/21efs.jpg', 'urlIdCard2': 'http://12.12.214.43:21/21efs.jpg', 'urlIdCard3': 'http://12.12.214.43:21/21efs.jpg', 'urlLicenceNo': 'http://12.12.214.43:21/21efs.jpg'}, 'timeout': 5, 'headers': {'content-type': 'application/json; charset=UTF-8', 'User-Agent': 'Mozilla/5.0 ', 'advert-server': 'd9e42fe0-e4a9-400f-9ef0-b99840fe0601'}, 'url': 'https://test.yun-ti.com:10092//boss/app/customer_info/v2/customer/save'}
        </th>
        </tr>
        <tr id="row1-1" style="display:none;color:orchid;word-break:break-all" >
        <th align="left" colspan='1' style="font-size:14">
        Response Data
        </th>
        <th align="left" colspan='4' >
        {"code":900500,"msg":"系统繁忙，请重试","data":null}
        </th>
        </tr>  
        </table>
    </div> 
    <div id="floor">
        <div class="barchart"> 
        <p> 测试结果统计图： <button style='color:green'onclick='javascript:drawBar(0, 1, 0)' >Show Chart</button></p>
        <canvas id="bar" width="225" height="168" >your browser does not support the canvas tag</canvas>
        </div>
    <!-- <p> 测试结果统计图： <button style='color:green' onclick="setDetailMsgRow('img1',this)">Show Chart</button></p>      
    <img id='img1' style="display:none" src="./chart.png"/> -->
    </div>
</body>
</html> 